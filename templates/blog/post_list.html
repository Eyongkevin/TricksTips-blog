{% extends "base.html" %} {% load model_funcs %} {% load core_tags %}
<!---->
{% block title %}Tricks&Tips{% endblock %}

<!---->
{% block content %}
<main class="item main-content">
  <div class="post_lists">
    {% if query %}
    <h1>Posts containing: "{{ query }}"</h1>
    {% endif %} {% for post in posts %}
    <h2>
      <a href="{{ post|get_absolute_url:post.category.slug }}">
        {{ post.title}}
      </a>
      <br />
    </h2>
    <div class="post-info">
      <span class="date">
        Published {{ post.published_date|date_since}} by {{ post.author}}
      </span>
      , {% include "includes/tags.html" with tags=post.tags %},
      <!---->
      {% include "includes/like_dislike.html" with post=post %}
    </div>
    <!--<p>Tags: {{ post.tags.all|join:', '}}</p> -->
    {{ post.body|safe|truncatewords_html:30|linebreaks}} {% endfor %}
    <!-- ListView pass pagination pages as 'page_obj' but for a 
         FBV, we will use the page object that was created-->
    {% include "pagination.html" with page=posts %}
  </div>
</main>
<aside class="item">
  <div class="aside-item">
    <h2>Hot <span class="trickstips">Ticks&Tips</span></h2>
    <hr />
    {% for hot_post in hot_posts %}
    <!---->
    {% include "includes/hot_posts.html" with post=hot_post %}
    <!---->
    {% empty%}
    <div class="no-hot-posts">No Hot Posts</div>
    {% endfor %}
  </div>
</aside>
{% endblock %}
